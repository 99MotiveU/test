<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript 기초 - 플래시카드 학습</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      :root {
        --primary-color: #4361ee;
        --secondary-color: #3f37c9;
        --accent-color: #4cc9f0;
        --light-color: #f8f9fa;
        --dark-color: #212529;
        --visited-color: #8338ec;
        --easy-color: #4ade80;
        --good-color: #60a5fa;
        --hard-color: #f87171;
        --again-color: #fb923c;
      }

      body {
        font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui,
          Roboto, sans-serif;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .navbar {
        background-color: white;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      .navbar-brand {
        display: flex;
        align-items: center;
        font-weight: 700;
        color: var(--primary-color);
      }

      .navbar-brand svg {
        margin-right: 10px;
      }

      .main-container {
        flex: 1;
        padding: 2rem 1rem;
        display: flex;
        flex-direction: column;
      }

      .study-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
      }

      .deck-title {
        font-weight: 700;
        color: var(--dark-color);
        display: flex;
        align-items: center;
        margin: 0;
      }

      .deck-title svg {
        margin-right: 0.75rem;
      }

      .study-controls {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .timer-display {
        background-color: white;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 1.1rem;
        color: var(--dark-color);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        display: flex;
        align-items: center;
      }

      .timer-display svg {
        margin-right: 0.5rem;
      }

      .btn-control {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem;
        border-radius: 8px;
        background-color: white;
        border: none;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        color: var(--dark-color);
        transition: all 0.2s ease;
      }

      .btn-control:hover {
        background-color: #f8f9fa;
        transform: translateY(-2px);
      }

      .btn-control svg {
        width: 24px;
        height: 24px;
      }

      .btn-exit {
        background-color: #f8f9fa;
        color: #6c757d;
        font-weight: 500;
        display: flex;
        align-items: center;
        padding: 0.5rem 1rem;
      }

      .btn-exit svg {
        margin-right: 0.5rem;
      }

      .flashcard-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin-bottom: 2rem;
      }

      .flashcard {
        width: 100%;
        max-width: 600px;
        height: 350px;
        perspective: 1000px;
        cursor: pointer;
      }

      .flashcard-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        border-radius: 16px;
      }

      .flashcard.flipped .flashcard-inner {
        transform: rotateY(180deg);
      }

      .flashcard-front,
      .flashcard-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 2rem;
        border-radius: 16px;
        background-color: white;
      }

      .flashcard-back {
        transform: rotateY(180deg);
        background-color: #f8f9fa;
      }

      .card-label {
        position: absolute;
        top: 1rem;
        left: 1rem;
        font-size: 0.8rem;
        color: #6c757d;
        font-weight: 500;
      }

      .card-number {
        position: absolute;
        top: 1rem;
        right: 1rem;
        font-size: 0.8rem;
        color: #6c757d;
        font-weight: 500;
      }

      .card-content {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--dark-color);
        max-width: 100%;
      }

      .card-hint {
        margin-top: 1.5rem;
        font-size: 0.9rem;
        color: #6c757d;
        font-style: italic;
      }

      .card-answer {
        font-size: 1.3rem;
        font-weight: 600;
        color: var(--dark-color);
        margin-bottom: 1rem;
      }

      .card-explanation {
        font-size: 1rem;
        color: #495057;
        line-height: 1.6;
      }

      .srs-buttons {
        display: flex;
        justify-content: center;
        gap: 0.75rem;
        margin-top: 1.5rem;
      }

      .btn-srs {
        padding: 0.75rem 1.25rem;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        color: white;
        transition: all 0.2s ease;
      }

      .btn-srs:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .btn-again {
        background-color: var(--again-color);
      }

      .btn-easy {
        background-color: var(--easy-color);
      }

      .btn-good {
        background-color: var(--good-color);
      }

      .btn-hard {
        background-color: var(--hard-color);
      }

      .progress-container {
        width: 100%;
        max-width: 600px;
        margin-top: 1rem;
      }

      .progress-text {
        display: flex;
        justify-content: space-between;
        font-size: 0.9rem;
        color: #6c757d;
        margin-bottom: 0.5rem;
      }

      .progress {
        height: 8px;
        border-radius: 4px;
        background-color: #e9ecef;
      }

      .progress-bar {
        background-color: var(--primary-color);
        border-radius: 4px;
      }

      .card-instructions {
        text-align: center;
        margin-top: 1rem;
        font-size: 0.9rem;
        color: #6c757d;
      }

      @media (max-width: 768px) {
        .flashcard {
          height: 300px;
        }

        .card-content {
          font-size: 1.3rem;
        }

        .card-answer {
          font-size: 1.1rem;
        }

        .srs-buttons {
          flex-wrap: wrap;
        }

        .btn-srs {
          padding: 0.6rem 1rem;
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light">
      <div class="container">
        <a class="navbar-brand" href="#">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M12.5 3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5zm0 3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5zm.5 3.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5zm-.5 2.5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5z"
            />
            <path
              d="M16 2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2zM4 1v14H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h2zm1 0h9a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5V1z"
            />
          </svg>
          플래시카드
        </a>
      </div>
    </nav>

    <div class="main-container container">
      <div class="study-header">
        <h1 class="deck-title">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            viewBox="0 0 24 24"
          >
            <path
              fill="#F7DF1E"
              d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"
            />
          </svg>
          JavaScript 기초
        </h1>
        <div class="study-controls">
          <div class="timer-display">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"
              />
              <path
                d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"
              />
            </svg>
            <span id="timer">00:00:00</span>
          </div>
          <button id="pauseBtn" class="btn-control" onclick="toggleTimer()">
            <svg
              id="pauseIcon"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"
              />
            </svg>
            <svg
              id="playIcon"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="currentColor"
              viewBox="0 0 16 16"
              style="display: none"
            >
              <path
                d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"
              />
            </svg>
          </button>
          <a href="#" class="btn btn-exit" onclick="exitStudy()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"
              />
              <path
                fill-rule="evenodd"
                d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"
              />
            </svg>
            나가기
          </a>
        </div>
      </div>

      <div class="flashcard-container">
        <div class="flashcard" id="flashcard" onclick="flipCard()">
          <div class="flashcard-inner">
            <div class="flashcard-front">
              <span class="card-label">문제</span>
              <span class="card-number">1/20</span>
              <div class="card-content">
                JavaScript에서 변수를 선언하는 세 가지 키워드는 무엇인가요?
              </div>
              <div class="card-hint">
                ES6 이후 추가된 키워드도 포함해서 생각해보세요.
              </div>
            </div>
            <div class="flashcard-back">
              <span class="card-label">답변</span>
              <span class="card-number">1/20</span>
              <div class="card-answer">var, let, const</div>
              <div class="card-explanation">
                <p>
                  <strong>var</strong>: 함수 스코프를 가지며, 재선언과 재할당이
                  가능합니다.
                </p>
                <p>
                  <strong>let</strong>: 블록 스코프를 가지며, 재할당은
                  가능하지만 재선언은 불가능합니다.
                </p>
                <p>
                  <strong>const</strong>: 블록 스코프를 가지며, 선언 시 초기화가
                  필요하고 재선언과 재할당이 불가능합니다.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="srs-buttons">
          <button class="btn-srs btn-again" onclick="rateCard('again')">
            다시
          </button>
          <button class="btn-srs btn-hard" onclick="rateCard('hard')">
            어려움
          </button>
          <button class="btn-srs btn-good" onclick="rateCard('good')">
            알맞음
          </button>
          <button class="btn-srs btn-easy" onclick="rateCard('easy')">
            쉬움
          </button>
        </div>

        <div class="progress-container">
          <div class="progress-text">
            <span>진행도</span>
            <span>1/20</span>
          </div>
          <div class="progress">
            <div
              class="progress-bar"
              role="progressbar"
              style="width: 5%"
              aria-valuenow="5"
              aria-valuemin="0"
              aria-valuemax="100"
            ></div>
          </div>
        </div>

        <div class="card-instructions">
          카드를 클릭하면 앞면/뒷면이 전환됩니다
        </div>
      </div>
    </div>

    <script>
      // 카드 뒤집기 기능
      function flipCard() {
        const flashcard = document.getElementById("flashcard");
        flashcard.classList.toggle("flipped");
      }

      // 카드 평가 기능
      function rateCard(difficulty) {
        // 실제 구현에서는 SRS 알고리즘에 따라 다음 복습 일정을 계산
        // 여기서는 간단히 다음 카드로 넘어가는 효과만 구현

        const flashcard = document.getElementById("flashcard");

        // 카드가 뒤집혀 있으면 원래대로 돌려놓기
        if (flashcard.classList.contains("flipped")) {
          flashcard.classList.remove("flipped");
        }

        // 카드 내용 업데이트 (실제로는 다음 카드 데이터를 불러와야 함)
        setTimeout(() => {
          // 현재 카드 번호 가져오기
          const cardNumberElements = document.querySelectorAll(".card-number");
          const currentCardText = cardNumberElements[0].textContent;
          const [current, total] = currentCardText
            .split("/")
            .map((num) => parseInt(num.trim()));

          // 다음 카드 번호 계산
          const nextCard = current < 20 ? current + 1 : 1;

          // 카드 번호 업데이트
          cardNumberElements.forEach((element) => {
            element.textContent = `${nextCard}/20`;
          });

          // 진행 상태 업데이트
          const progressText = document.querySelector(
            ".progress-text span:last-child"
          );
          progressText.textContent = `${nextCard}/20`;

          const progressBar = document.querySelector(".progress-bar");
          const progressPercentage = (nextCard / 20) * 100;
          progressBar.style.width = `${progressPercentage}%`;
          progressBar.setAttribute("aria-valuenow", progressPercentage);

          // 카드 내용 업데이트 (실제로는 다음 카드 데이터를 사용)
          updateCardContent(nextCard);
        }, 300);

        // 난이도에 따른 피드백 (실제 구현에서는 서버에 저장)
        console.log(`Card rated as: ${difficulty}`);
      }

      // 카드 내용 업데이트 함수
      function updateCardContent(cardNumber) {
        const cardContent = document.querySelector(
          ".flashcard-front .card-content"
        );
        const cardHint = document.querySelector(".flashcard-front .card-hint");
        const cardAnswer = document.querySelector(
          ".flashcard-back .card-answer"
        );
        const cardExplanation = document.querySelector(
          ".flashcard-back .card-explanation"
        );

        // 실제로는 서버에서 데이터를 가져와야 하지만, 여기서는 샘플 데이터 사용
        const sampleCards = [
          {
            question:
              "JavaScript에서 변수를 선언하는 세 가지 키워드는 무엇인가요?",
            hint: "ES6 이후 추가된 키워드도 포함해서 생각해보세요.",
            answer: "var, let, const",
            explanation: `<p><strong>var</strong>: 함수 스코프를 가지며, 재선언과 재할당이 가능합니다.</p>
                        <p><strong>let</strong>: 블록 스코프를 가지며, 재할당은 가능하지만 재선언은 불가능합니다.</p>
                        <p><strong>const</strong>: 블록 스코프를 가지며, 선언 시 초기화가 필요하고 재선언과 재할당이 불가능합니다.</p>`,
          },
          {
            question:
              "JavaScript에서 '==' 와 '===' 연산자의 차이점은 무엇인가요?",
            hint: "타입 변환에 대해 생각해보세요.",
            answer: "'=='는 값만 비교, '==='는 값과 타입 모두 비교",
            explanation: `<p><strong>==</strong> (동등 연산자): 비교 전에 타입 변환을 수행하여 값만 비교합니다.</p>
                        <p><strong>===</strong> (일치 연산자): 타입 변환 없이 값과 타입 모두 비교합니다.</p>
                        <p>예: '5' == 5는 true이지만, '5' === 5는 false입니다.</p>`,
          },
          {
            question: "JavaScript에서 클로저(Closure)란 무엇인가요?",
            hint: "함수와 렉시컬 환경의 관계에 대해 생각해보세요.",
            answer: "함수와 그 함수가 선언된 렉시컬 환경의 조합",
            explanation: `<p>클로저는 함수와 그 함수가 선언된 렉시컬 환경의 조합입니다.</p>
                        <p>내부 함수가 외부 함수의 변수에 접근할 수 있게 해주며, 외부 함수의 실행이 끝난 후에도 내부 함수가 외부 함수의 변수를 참조할 수 있습니다.</p>
                        <p>주로 데이터 은닉, 캡슐화, 팩토리 함수 등에 활용됩니다.</p>`,
          },
          {
            question:
              "JavaScript에서 이벤트 버블링(Event Bubbling)이란 무엇인가요?",
            hint: "DOM 이벤트의 전파 방식에 대해 생각해보세요.",
            answer:
              "이벤트가 발생한 요소에서 시작하여 상위 요소로 전파되는 현상",
            explanation: `<p>이벤트 버블링은 특정 요소에서 이벤트가 발생했을 때, 그 이벤트가 상위 요소들로 전파되는 현상입니다.</p>
                        <p>예를 들어, 버튼 클릭 시 버튼 → div → body → document 순으로 이벤트가 전파됩니다.</p>
                        <p>event.stopPropagation() 메서드로 이벤트 버블링을 중단할 수 있습니다.</p>`,
          },
          {
            question: "JavaScript에서 Promise란 무엇인가요?",
            hint: "비동기 작업의 결과를 처리하는 방식에 대해 생각해보세요.",
            answer: "비동기 작업의 최종 완료 또는 실패를 나타내는 객체",
            explanation: `<p>Promise는 비동기 작업의 최종 완료(또는 실패)와 그 결과값을 나타내는 객체입니다.</p>
                        <p>세 가지 상태를 가집니다: 대기(pending), 이행(fulfilled), 거부(rejected)</p>
                        <p>then(), catch(), finally() 메서드를 통해 비동기 작업의 결과를 처리할 수 있습니다.</p>
                        <p>ES6에서 도입되어 콜백 지옥 문제를 해결하는데 도움을 줍니다.</p>`,
          },
        ];

        // 인덱스는 0부터 시작하므로 조정
        const index = (cardNumber - 1) % sampleCards.length;
        const card = sampleCards[index];

        // 카드 내용 업데이트
        cardContent.textContent = card.question;
        cardHint.textContent = card.hint;
        cardAnswer.textContent = card.answer;
        cardExplanation.innerHTML = card.explanation;
      }

      // 타이머 기능
      let startTime;
      let elapsedTime = 0;
      let timerInterval;
      let isRunning = true;

      function startTimer() {
        startTime = Date.now() - elapsedTime;
        timerInterval = setInterval(updateTimer, 1000);
      }

      function updateTimer() {
        const currentTime = Date.now();
        elapsedTime = currentTime - startTime;

        const hours = Math.floor(elapsedTime / (1000 * 60 * 60))
          .toString()
          .padStart(2, "0");
        const minutes = Math.floor(
          (elapsedTime % (1000 * 60 * 60)) / (1000 * 60)
        )
          .toString()
          .padStart(2, "0");
        const seconds = Math.floor((elapsedTime % (1000 * 60)) / 1000)
          .toString()
          .padStart(2, "0");

        document.getElementById(
          "timer"
        ).textContent = `${hours}:${minutes}:${seconds}`;
      }

      function pauseTimer() {
        clearInterval(timerInterval);
      }

      function toggleTimer() {
        const pauseIcon = document.getElementById("pauseIcon");
        const playIcon = document.getElementById("playIcon");

        if (isRunning) {
          pauseTimer();
          pauseIcon.style.display = "none";
          playIcon.style.display = "block";
        } else {
          startTimer();
          pauseIcon.style.display = "block";
          playIcon.style.display = "none";
        }

        isRunning = !isRunning;
      }

      // 학습 나가기
      function exitStudy() {
        if (
          confirm("학습을 종료하시겠습니까? 현재까지의 진행 상황은 저장됩니다.")
        ) {
          // 실제 구현에서는 서버에 진행 상황 저장 후 이동
          window.location.href = "index.html";
        }
      }

      // 페이지 로드 시 타이머 시작
      window.onload = function () {
        startTimer();
      };
    </script>
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'94f853c572a6ea8b',t:'MTc0OTg4ODM3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
  </body>
</html>
